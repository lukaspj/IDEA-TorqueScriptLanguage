<idea-plugin>
    <id>org.lukasj.idea.torquescript</id>
    <name>TorqueScript Language Support</name>
    <vendor email="lpjoergensen@gmail.com" url="https://lukasj.org">Lukas Aldershaab</vendor>

    <description><![CDATA[
        <p>
            This is a basic implementation of TorqueScript language support. <br/>
            More advanced features are planned, but at the moment this is mostly a syntax highlighter.
        </p>

        <p>
            TorqueScript is the proprietary scripting language for the Torque3D Game Engine.
            Since version 4.0 they are identified by the .tscript extension.
        </p>

        <h3>Current features</h3>
        <ul>
            <li>Syntax Highlighting</li>
            <li>Function completion</li>
            <li>Go To Definition for:
                <ul>
                    <li>Global Variables</li>
                    <li>Functions</li>
                    <li>Objects</li>
                </ul>
            </li>
            <li>Go To Symbol for:
                <ul>
                    <li>Global Variables</li>
                    <li>Functions</li>
                    <li>Objects</li>
                </ul>
            </li>
            <li>Basic Run Configuration</li>
            <li>Code Completion for:
                <ul>
                    <li>Local Variables</li>
                    <li>Global Variables</li>
                    <li>Global Functions</li>
                    <li>Namespaced Functions</li>
                    <li>Methods</li>
                    <li>Object Names</li>
                    <li>Keywords</li>
                </ul>
            </li>
            <li>Brace Matching</li>
            <li>Commenter</li>
            <li>Find usages for:
                <ul>
                    <li>Global Variables</li>
                    <li>Global Functions</li>
                    <li>Namespaced Functions</li>
                    <li>Object Names</li>
                </ul>
            </li>
            <li>Basic Code Folding</li>
            <li>Navigate to:
                <ul>
                    <li>Functions</li>
                    <li>Global variables</li>
                    <li>Objects</li>
                </ul>
            </li>
            <li>Debugger with:
                <ul>
                    <li>Line Breakpoints</li>
                    <li>Step-by-step debugging</li>
                    <li>On-hover evaluation for simple variables</li>
                    <li>Script stack frame</li>
                    <li>Evaluation menu support</li>
                </ul>
            </li>
        </ul>
        ]]></description>

    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="TorqueScript File"
                  implementationClass="org.lukasj.idea.torquescript.TSFileType"
                  fieldName="INSTANCE"
                  language="TorqueScript"
                  extensions="tscript"/>

        <lang.parserDefinition language="TorqueScript"
                               implementationClass="org.lukasj.idea.torquescript.parser.TSParserDefinition"/>

        <lang.syntaxHighlighterFactory language="TorqueScript"
                                       implementationClass="org.lukasj.idea.torquescript.TSSyntaxHighlighterFactory"/>
        <lang.findUsagesProvider language="TorqueScript"
                                 implementationClass="org.lukasj.idea.torquescript.editor.TSFindUsagesProvider"/>
        <lang.refactoringSupport language="TorqueScript"
                                 implementationClass="org.lukasj.idea.torquescript.editor.TSRefactoringSupportProvider" />

        <lang.namesValidator language="TorqueScript"
                             implementationClass="org.lukasj.idea.torquescript.editor.TSNamesValidator" />

        <lang.braceMatcher language="TorqueScript"
                           implementationClass="org.lukasj.idea.torquescript.editor.TSBraceMatcher"/>

        <gotoSymbolContributor implementation="org.lukasj.idea.torquescript.editor.TSChooseByNameContributor"/>

        <lang.commenter language="TorqueScript"
                        implementationClass="org.lukasj.idea.torquescript.editor.TSCommenter"/>
        <lang.foldingBuilder language="TorqueScript"
                             implementationClass="org.lukasj.idea.torquescript.editor.TSFoldingBuilder"/>

        <colorSettingsPage implementation="org.lukasj.idea.torquescript.editor.TSColorSettingsPage"/>

        <annotator implementationClass="org.lukasj.idea.torquescript.annotator.TSAnnotator"
                   language="TorqueScript"/>

        <typedHandler implementation="org.lukasj.idea.torquescript.completion.TSCompletionAutoPopupHandler" id="ts"/>
        <completion.contributor language="TorqueScript"
                                implementationClass="org.lukasj.idea.torquescript.completion.TSCompletionContributor"/>

        <programRunner implementation="org.lukasj.idea.torquescript.runner.TSRunner" />
        <configurationType implementation="org.lukasj.idea.torquescript.runner.TSRunConfigurationType"/>

        <xdebugger.breakpointType implementation="org.lukasj.idea.torquescript.runner.TSLineBreakpointType" />

        <projectService serviceImplementation="org.lukasj.idea.torquescript.engine.EngineApiService" />
    </extensions>

    <actions>
        <action class="org.lukasj.idea.torquescript.action.RebuildExportsAction"
                id="org.lukasj.idea.torquescript.action.RebuildExportsAction"
                text="Rebuild Exports" description="Rebuild Engine Exports"
                icon="TSIcons.FILE">
            <add-to-group group-id="ToolsMenu" anchor="last" />
        </action>
    </actions>
</idea-plugin>